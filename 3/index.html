<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>第3章 列表</title>
  <link rel="stylesheet"
  href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script src="list.js"></script>
  <style>
    h2 {
      text-align: center
    }
    .container {
      display: flex;
      flex-flow: row wrap;
      justify-content: flex-start;
      align-items: flex-start;
      font-size: 14px;
      width: 80%;
      margin: 0 auto;
      line-height: 1.5;
    }
    .container pre, ol {
      flex: 1;
    }
  </style>
</head>
<body>
  <h2>第3章 列表</h2>
  <div class="container">
    <pre>
      列表对象
      <code class="JavaScript">
       class List {
         constructor () {
           this.datas = []
           this.listSize = 0
           this.index = 0
         }
         clear () {
           delete this.datas
           this.datas = []
           this.listSize = this.index = 0
         }
         length () {
           return this.listSize
         }
         elements () {
           return this.datas.join(', ')
         }
         current () {
           return this.datas[this.index]
         }
         append (element) {
           if (!element) return
           this.datas[this.listSize++] = element
         }
         findIndex (element) {
           for (let i = 0; i < this.datas.length; i++) {
             if (this.datas[i] === element) {
               return i
             }
           }
           return -1
         }
         insert (element, after) {
           const pos = this.findIndex(element)
           if (pos > -1) {
             this.datas.splice(pos, 0, element)
             this.listSize += 1
             return true
           }
           return false
         }
         remove (element) {
           const index = this.findIndex(element)
           if (index > -1) {
             this.datas.splice(index, 1)
             this.listSize -= 1
             return true
           }
           return false
         }
         contains (element) {
           if (this.datas.contains) {
             return this.datas.contains(element)
           } else {
             for (let i = 0; i < this.datas.length; i++) {
               if (element === this.datas[i]) {
                 return true
               }
             }
             return false
           }
         }
         first () {
           return this.datas[0]
         }
         last () {
           return this.datas[this.listSize]
         }
         prev () {
           this.index -= 1
           return this.position()
         }
         next () {
           if (this.index < this.listSize) {
             this.index += 1
           }
           return this.position()
         }
         hasNext () {
           return this.index < this.listSize 
         }
         hasPrev () {
           return this.index > 0 
         }
         moveFront () {
           this.index = 0
         }
         moveEnd () {
           this.index = this.listSize - 1
         }
         moveTo (pos) {
           if (pos >= 0 && pos < this.listSize) {
             this.index = pos
           }
         }
         position () {
           return this.index + 1
         }
       }
     </code>
    </pre>
    <ol>
     <li>aaaaaaaaaa</li>
    </ol>
  </div>
</body>
</html>















